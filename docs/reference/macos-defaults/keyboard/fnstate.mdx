# Function Keys Behavior

Control whether F1-F12 keys work as standard function keys or media keys.

## Overview

| Property | Value |
|----------|-------|
| **Domain** | `NSGlobalDomain` |
| **Key** | `com.apple.keyboard.fnState` |
| **Type** | Boolean |
| **Default Value** | `false` |
| **Our Setting** | `true` |

## Description

Controls the default behavior of the top row function keys (F1-F12) on Apple keyboards. When disabled (default), these keys perform special functions like brightness, volume, and media controls. When enabled, pressing F1-F12 sends standard function key codes, and you must hold the `fn` key to access special features. This is essential for developers, gamers, and users of applications that rely heavily on function keys.

## Values

| Value | Behavior |
|-------|----------|
| `false` | **Media keys** (default) â€” F1-F12 control brightness, volume, etc. |
| `true` | **Function keys** â€” F1-F12 send standard function key codes |

## Visual Demonstration

### Default Behavior (false - Media Keys):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Apple Keyboard â€” Default Function Key Behavior         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ”… â”‚ ğŸ”† â”‚ âš  â”‚ ğŸ” â”‚ ğŸ¤ â”‚ ğŸŒ™ â”‚ â®  â”‚ â¯  â”‚ â­  â”‚ ğŸ”‡ â”‚    â”‚
â”‚  â”‚ F1 â”‚ F2 â”‚ F3 â”‚ F4 â”‚ F5 â”‚ F6 â”‚ F7 â”‚ F8 â”‚ F9 â”‚F10â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚  Press F1     â†’ Brightness Down (ğŸ”…)                   â”‚
â”‚  Press F2     â†’ Brightness Up (ğŸ”†)                     â”‚
â”‚  Press F3     â†’ Mission Control (âš)                    â”‚
â”‚  Press F10    â†’ Mute (ğŸ”‡)                              â”‚
â”‚                                                         â”‚
â”‚  fn + F1      â†’ Standard F1 key                         â”‚
â”‚  fn + F5      â†’ Standard F5 key (refresh in browser)    â”‚
â”‚                                                         â”‚
â”‚  Problem: Requires fn key for common dev operations!    â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### With fnState Enabled (true - Function Keys):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Apple Keyboard â€” Standard Function Keys Enabled        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ F1 â”‚ F2 â”‚ F3 â”‚ F4 â”‚ F5 â”‚ F6 â”‚ F7 â”‚ F8 â”‚ F9 â”‚F10â”‚    â”‚
â”‚  â”‚ ğŸ”… â”‚ ğŸ”† â”‚ âš  â”‚ ğŸ” â”‚ ğŸ¤ â”‚ ğŸŒ™ â”‚ â®  â”‚ â¯  â”‚ â­  â”‚ ğŸ”‡ â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚  Press F1     â†’ Standard F1 key (help in many apps)     â”‚
â”‚  Press F5     â†’ Standard F5 key (refresh/debug)         â”‚
â”‚  Press F12    â†’ Standard F12 key (dev tools)            â”‚
â”‚                                                         â”‚
â”‚  fn + F1      â†’ Brightness Down (ğŸ”…)                   â”‚
â”‚  fn + F10     â†’ Mute (ğŸ”‡)                              â”‚
â”‚                                                         â”‚
â”‚  Better for: Development, Excel, gaming, terminals      â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Common Function Key Uses:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Standard Function Key Usage                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  Development:                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  F5  â†’ Debug/Run (VS Code, Xcode, IDEs)                 â”‚
â”‚  F7  â†’ Step into (debugging)                            â”‚
â”‚  F8  â†’ Step over (debugging)                            â”‚
â”‚  F9  â†’ Toggle breakpoint                                â”‚
â”‚  F10 â†’ Step out                                         â”‚
â”‚  F11 â†’ Step into                                        â”‚
â”‚  F12 â†’ Go to definition / Dev Tools (browsers)          â”‚
â”‚                                                         â”‚
â”‚  Productivity:                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  F1  â†’ Help in most applications                        â”‚
â”‚  F2  â†’ Rename (Finder, Excel, IDEs)                     â”‚
â”‚  F3  â†’ Find next                                        â”‚
â”‚  F4  â†’ Address bar (browsers), Close window             â”‚
â”‚  F5  â†’ Refresh (browsers)                               â”‚
â”‚  F6  â†’ Move focus                                       â”‚
â”‚                                                         â”‚
â”‚  Gaming:                                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  F1-F12 â†’ Commonly mapped to game actions               â”‚
â”‚           Quick save, quick load, abilities, etc.       â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Our Configuration

**Set to**: `true` â€” Use F1-F12 as standard function keys.

### Why Enable Standard Function Keys?

1. **Development** â€” F5 to run, F12 for dev tools
2. **Debugging** â€” F7-F11 for stepping through code
3. **Excel/Sheets** â€” F2 to edit cells
4. **Gaming** â€” Function keys for game controls
5. **Professional** â€” Standard keyboard behavior

### Why Keep Media Keys (Default)?

- Primarily adjust brightness/volume
- Don't use IDEs or development tools
- Prefer single-press media controls
- Less technical usage
- Gaming controller for games

## Code Examples

```bash
# Read current value
defaults read NSGlobalDomain com.apple.keyboard.fnState

# Enable standard function keys
defaults write NSGlobalDomain com.apple.keyboard.fnState -bool true

# Use media keys as default (Apple default)
defaults write NSGlobalDomain com.apple.keyboard.fnState -bool false

# Delete (reset to default)
defaults delete NSGlobalDomain com.apple.keyboard.fnState
```

Changes take effect immediately for most applications.

## UI Location

**System Settings** â†’ **Keyboard** â†’ **Keyboard Shortcuts** â†’ **Function Keys**

Or on older macOS:
**System Preferences** â†’ **Keyboard** â†’ â˜‘ **Use F1, F2, etc. keys as standard function keys**

## Related Keyboard Settings

```bash
# Function key behavior (this setting)
defaults write NSGlobalDomain com.apple.keyboard.fnState -bool true

# Key repeat rate (faster = lower value)
defaults write NSGlobalDomain KeyRepeat -int 2

# Delay until repeat (shorter = lower value)
defaults write NSGlobalDomain InitialKeyRepeat -int 15

# Disable press-and-hold for accents
defaults write NSGlobalDomain ApplePressAndHoldEnabled -bool false

# Enable full keyboard access
defaults write NSGlobalDomain AppleKeyboardUIMode -int 3
```

## Per-Application Override

You can set function key behavior for specific apps:

**System Settings** â†’ **Keyboard** â†’ **Keyboard Shortcuts** â†’ **Function Keys**

Add specific applications where you want the opposite behavior.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Per-App Function Key Settings                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  Use F1, F2, etc. as standard function keys:            â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ + App                                           â”‚    â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚    â”‚
â”‚  â”‚ Xcode                              [Remove]     â”‚    â”‚
â”‚  â”‚ Visual Studio Code                 [Remove]     â”‚    â”‚
â”‚  â”‚ Terminal                           [Remove]     â”‚    â”‚
â”‚  â”‚ Parallels Desktop                  [Remove]     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚  Add apps that need standard function keys              â”‚
â”‚  even if system default is media keys                   â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Touch Bar Macs

On MacBooks with Touch Bar (2016-2020 models):

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Touch Bar Function Key Settings                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  Touch Bar normally shows contextual controls:          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ [Esc] [App controls...         ] [Siri] [ğŸ”’]   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚  Hold fn key to show function keys:                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ [F1][F2][F3][F4][F5][F6][F7][F8][F9][F10][F11]  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚  System Settings â†’ Keyboard â†’ Touch Bar shows:          â”‚
â”‚  â€¢ App Controls (default)                               â”‚
â”‚  â€¢ Expanded Control Strip                               â”‚
â”‚  â€¢ F1, F2, etc. Keys        â† Forces function keys      â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## External Keyboards

For non-Apple keyboards:

| Keyboard | Behavior |
|----------|----------|
| Apple Magic Keyboard | Respects this setting |
| Apple wired keyboards | Respects this setting |
| Generic USB keyboards | Usually standard F-keys already |
| Gaming keyboards | Usually standard F-keys already |

## Karabiner-Elements Alternative

For more complex key remapping, consider Karabiner-Elements:

- Remap fn key behavior
- Per-app function key settings
- Complex key combinations
- External keyboard specific settings

## Troubleshooting

| Issue | Solution |
|-------|----------|
| Setting doesn't apply | Log out and back in |
| Some apps ignore setting | Check per-app overrides |
| Function keys still media | Verify with `defaults read` |
| External keyboard different | May have own fn lock |

## Windows Comparison

For users from Windows:

| Key | Windows | Mac (fnState=true) |
|-----|---------|-------------------|
| F1 | Help | Help |
| F2 | Rename | Rename |
| F5 | Refresh | Refresh |
| F12 | Save As / Dev Tools | Dev Tools |

With fnState enabled, Mac function keys behave similarly to Windows.

## Compatibility

- **macOS**: 10.4+ (Tiger)
- **Note**: Applies to Apple keyboards
- **Note**: External keyboards may behave differently
- **Note**: Touch Bar Macs have additional settings

## Source File

**File**: [`defaults/keyboard/behavior.sh`](../../defaults/keyboard/behavior.sh)

```bash
run_defaults "NSGlobalDomain" "com.apple.keyboard.fnState" "-bool" "true"
```

## References

- [Apple Support: Change function key behavior](https://support.apple.com/guide/mac-help/change-the-behavior-of-function-keys-mchlp2446/mac)
- [Apple Support: Use keyboard shortcuts](https://support.apple.com/guide/mac-help/keyboard-shortcuts-on-mac-mh11193/mac)
- [Apple Support: Use function keys on MacBook Pro with Touch Bar](https://support.apple.com/guide/mac-help/use-function-keys-mchl5a63b06e/mac)
