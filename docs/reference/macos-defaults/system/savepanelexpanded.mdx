# Save Dialog Expanded State

Automatically expand the save dialog to show file browser.

## Overview

| Property | Value |
|----------|-------|
| **Domain** | `NSGlobalDomain` |
| **Key** | `NSNavPanelExpandedStateForSaveMode2` |
| **Type** | Boolean |
| **Default Value** | `false` |
| **Our Setting** | `true` |

## Description

Controls whether the save dialog opens in expanded mode, showing the full file browser with folder navigation, sidebar, and file list. By default, macOS shows a simplified save dialog with just a filename field and a dropdown. Enabling this setting shows the full Finder-like browser immediately.

## Values

| Value | Behavior |
|-------|----------|
| `false` | **Collapsed** (default) â€” Simple filename and location dropdown |
| `true` | **Expanded** â€” Full file browser visible |

## Visual Demonstration

### Collapsed Save Dialog (default):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Save Dialog â€” Collapsed                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                                 â”‚    â”‚
â”‚  â”‚  Save As: [Untitled.txt                    ]   â”‚    â”‚
â”‚  â”‚                                                 â”‚    â”‚
â”‚  â”‚  Tags:    [                                ]   â”‚    â”‚
â”‚  â”‚                                                 â”‚    â”‚
â”‚  â”‚  Where:   [Documents                     â–¼]   â”‚    â”‚
â”‚  â”‚              â†‘                                  â”‚    â”‚
â”‚  â”‚        Limited location options                 â”‚    â”‚
â”‚  â”‚        Can't browse to other folders easily     â”‚    â”‚
â”‚  â”‚                                                 â”‚    â”‚
â”‚  â”‚           [â–¼]     [Cancel]    [Save]            â”‚    â”‚
â”‚  â”‚            â†‘                                    â”‚    â”‚
â”‚  â”‚    Click to expand (if you notice it!)          â”‚    â”‚
â”‚  â”‚                                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚  Where does "Documents" actually save to?              â”‚
â”‚  Hard to navigate to specific subfolders!               â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Expanded Save Dialog:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Save Dialog â€” Expanded                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Save As: [Untitled.txt                    ]   â”‚    â”‚
â”‚  â”‚  Tags:    [                                ]   â”‚    â”‚
â”‚  â”‚                                                 â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚  â”‚  â”‚ Favorites    â”‚ Name          Date       â”‚   â”‚    â”‚
â”‚  â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚   â”‚    â”‚
â”‚  â”‚  â”‚ ğŸ“ Desktop   â”‚ ğŸ“ Projects    Today     â”‚   â”‚    â”‚
â”‚  â”‚  â”‚ ğŸ“ Documents â”‚ ğŸ“ Archives    Yesterday â”‚   â”‚    â”‚
â”‚  â”‚  â”‚ ğŸ“ Downloads â”‚ ğŸ“„ Notes.txt   Jan 5     â”‚   â”‚    â”‚
â”‚  â”‚  â”‚              â”‚ ğŸ“„ Todo.md     Jan 4     â”‚   â”‚    â”‚
â”‚  â”‚  â”‚ iCloud       â”‚                          â”‚   â”‚    â”‚
â”‚  â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚                          â”‚   â”‚    â”‚
â”‚  â”‚  â”‚ â˜ï¸ iCloud    â”‚                          â”‚   â”‚    â”‚
â”‚  â”‚  â”‚              â”‚                          â”‚   â”‚    â”‚
â”‚  â”‚  â”‚ Tags         â”‚ [New Folder]             â”‚   â”‚    â”‚
â”‚  â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚                          â”‚   â”‚    â”‚
â”‚  â”‚  â”‚ ğŸ”´ Important â”‚                          â”‚   â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚  â”‚                                                 â”‚    â”‚
â”‚  â”‚           [â–²]     [Cancel]    [Save]            â”‚    â”‚
â”‚  â”‚                                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚  Full Finder browser! Navigate anywhere!                â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Expanded Dialog Features:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Features in Expanded Save Dialog                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  Sidebar:                                               â”‚
â”‚  â€¢ Favorites (Desktop, Documents, Downloads, etc.)      â”‚
â”‚  â€¢ iCloud Drive                                         â”‚
â”‚  â€¢ Tags for organization                                â”‚
â”‚  â€¢ Recent folders                                       â”‚
â”‚                                                         â”‚
â”‚  File Browser:                                          â”‚
â”‚  â€¢ Full folder navigation                               â”‚
â”‚  â€¢ See existing files                                   â”‚
â”‚  â€¢ Sort by name, date, size                            â”‚
â”‚  â€¢ Change view style (icons, list, columns)            â”‚
â”‚                                                         â”‚
â”‚  Additional Controls:                                   â”‚
â”‚  â€¢ [New Folder] button                                  â”‚
â”‚  â€¢ Search field                                         â”‚
â”‚  â€¢ View options                                         â”‚
â”‚  â€¢ Path bar (shows current location)                    â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Our Configuration

**Set to**: `true` â€” Show expanded save dialog for full control.

### Why Enable Expanded Dialog?

1. **Navigation** â€” Browse to any folder
2. **Context** â€” See existing files
3. **Organization** â€” Access favorites and tags
4. **New Folder** â€” Create folders on the fly
5. **Certainty** â€” Know exactly where file saves

### Why Keep Collapsed (Default)?

- Quick saves to recent locations
- Always save to same folder
- Prefer minimal interface
- Trust default locations
- Speed over flexibility

## Code Examples

```bash
# Read current value
defaults read NSGlobalDomain NSNavPanelExpandedStateForSaveMode2

# Enable expanded save dialog
defaults write NSGlobalDomain NSNavPanelExpandedStateForSaveMode2 -bool true

# Also set the older key (for compatibility)
defaults write NSGlobalDomain NSNavPanelExpandedStateForSaveMode -bool true

# Disable (collapsed, default)
defaults write NSGlobalDomain NSNavPanelExpandedStateForSaveMode2 -bool false

# Delete (reset to default)
defaults delete NSGlobalDomain NSNavPanelExpandedStateForSaveMode2
```

Changes take effect immediately for new save dialogs.

## UI Location

There is no system setting for this. Each save dialog has:
- **â–¼** button (next to filename) to expand
- **â–²** button to collapse

The setting makes expanded the default state.

## Keyboard Shortcuts in Save Dialog

| Shortcut | Action |
|----------|--------|
| âŒ˜D | Go to Desktop |
| âŒ˜â‡§G | Go to Folder (type path) |
| âŒ˜â‡§N | New Folder |
| âŒ˜â‡§. | Show hidden files |
| â†‘â†“ | Navigate file list |
| Return | Save/Select |

## Related Dialog Settings

```bash
# Expanded save dialog (this setting)
defaults write NSGlobalDomain NSNavPanelExpandedStateForSaveMode2 -bool true

# Expanded print dialog
defaults write NSGlobalDomain PMPrintingExpandedStateForPrint2 -bool true

# Show all file extensions
defaults write NSGlobalDomain AppleShowAllExtensions -bool true
```

## Go to Folder Shortcut

Even in collapsed dialog, use **âŒ˜â‡§G** to type a path:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Go to Folder (âŒ˜â‡§G)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                                 â”‚    â”‚
â”‚  â”‚  Go to the folder:                              â”‚    â”‚
â”‚  â”‚  [~/Documents/Projects/2024/               ]   â”‚    â”‚
â”‚  â”‚                                                 â”‚    â”‚
â”‚  â”‚     Tab-completion works! Type and press Tab    â”‚    â”‚
â”‚  â”‚                                                 â”‚    â”‚
â”‚  â”‚              [Cancel]    [Go]                   â”‚    â”‚
â”‚  â”‚                                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚  Works in both save and open dialogs                    â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## iCloud Integration

Expanded dialog makes iCloud easier:
- See iCloud Drive in sidebar
- Navigate to app-specific iCloud folders
- Save directly to iCloud

## Troubleshooting

| Issue | Solution |
|-------|----------|
| Dialog still collapsed | Setting applies to new dialogs |
| Some apps different | App may override system setting |
| Sidebar missing items | Customize in Finder â†’ Preferences â†’ Sidebar |
| Can't see hidden files | Press âŒ˜â‡§. to toggle |

## App-Specific Dialogs

Some apps use custom save dialogs:
- **Adobe apps** â€” Own save interface
- **Office apps** â€” Custom with cloud options
- **Terminal apps** â€” Text-based saving

These may not respect the system setting.

## Legacy Key

macOS uses two preference keys:

| Key | macOS Version |
|-----|---------------|
| `NSNavPanelExpandedStateForSaveMode` | 10.6-10.8 |
| `NSNavPanelExpandedStateForSaveMode2` | 10.9+ |

Set both for maximum compatibility:
```bash
defaults write NSGlobalDomain NSNavPanelExpandedStateForSaveMode -bool true
defaults write NSGlobalDomain NSNavPanelExpandedStateForSaveMode2 -bool true
```

## Compatibility

- **macOS**: 10.6+ (Snow Leopard)
- **Note**: Takes effect immediately for new save dialogs
- **Note**: Some applications have custom save dialogs
- **Note**: Works in open dialogs too (NSNavPanelExpandedStateForOpenMode)

## Source File

**File**: [`defaults/dialogs/save.sh`](../../defaults/dialogs/save.sh)

```bash
run_defaults "NSGlobalDomain" "NSNavPanelExpandedStateForSaveMode2" "-bool" "true"
run_defaults "NSGlobalDomain" "NSNavPanelExpandedStateForSaveMode" "-bool" "true"
```

## References

- [Apple Support: Save and name files](https://support.apple.com/guide/mac-help/save-and-name-files-mchl50654197/mac)
- [Apple Support: Organize files in folders](https://support.apple.com/guide/mac-help/organize-files-in-folders-mchlp1014/mac)
