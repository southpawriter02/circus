# Xcode Show Runtime Issues

Display runtime warnings and issues during debugging.

## Overview

| Property | Value |
|----------|-------|
| **Domain** | `com.apple.dt.Xcode` |
| **Key** | `IDEShowRuntimeIssues` |
| **Type** | Boolean |
| **Default Value** | `true` |
| **Our Setting** | `true` |

## Description

Controls whether Xcode displays runtime issues in the Issue Navigator during app execution. Runtime issues include Auto Layout constraint conflicts, memory access issues, Main Thread Checker violations, and other problems detected while your app is running. These issues appear as purple warnings and help catch bugs that only manifest at runtime.

## Values

| Value | Behavior |
|-------|----------|
| `true` | **Show runtime issues** (default) â€” Display purple warnings for runtime problems |
| `false` | **Hide runtime issues** â€” Do not display runtime warnings |

## Visual Demonstration

### Runtime Issues Displayed:
```
+-------------------------------------------------------------+
|  Xcode - Runtime Issues in Issue Navigator                   |
+-------------------------------------------------------------+
|                                                              |
|  Issue Navigator                                             |
|  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  |
|                                                              |
|  âš ï¸ Buildtime Issues (2)                                     |
|  â”‚                                                           |
|  â”œâ”€ âš ï¸ 'viewDidLoad()' should call super                     |
|  â”‚     ViewController.swift:25                               |
|  â”‚                                                           |
|  â””â”€ âš ï¸ Unused variable 'temp'                                |
|        DataManager.swift:42                                  |
|                                                              |
|  ğŸŸ£ Runtime Issues (3)                                        |
|  â”‚                                                           |
|  â”œâ”€ ğŸŸ£ Unable to simultaneously satisfy constraints           |
|  â”‚     Will attempt to recover by breaking constraint        |
|  â”‚     â”—â” View: UILabel 0x7f8...                            |
|  â”‚                                                           |
|  â”œâ”€ ğŸŸ£ Main Thread Checker: UI API called on background      |
|  â”‚     -[UIView setNeedsLayout]                              |
|  â”‚     â”—â” NetworkManager.swift:89                           |
|  â”‚                                                           |
|  â””â”€ ğŸŸ£ Thread 1: EXC_BAD_ACCESS (detected)                   |
|        Memory sanitizer found issue                          |
|        â”—â” DataParser.swift:156                              |
|                                                              |
|  ğŸŸ£ = Purple runtime issue (detected during execution)       |
|                                                              |
+-------------------------------------------------------------+
```

### Runtime Issue Inline Annotation:
```
+-------------------------------------------------------------+
|  Xcode Editor - Runtime Issue Annotation                     |
+-------------------------------------------------------------+
|                                                              |
|  87 â”‚   func updateUI() {                                    |
|  88 â”‚     DispatchQueue.global().async {                     |
|  89 â”‚       self.label.text = "Updated"                      |
|     â”‚       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^                   |
|     â”‚  ğŸŸ£ Main Thread Checker: UI API called on a            |
|     â”‚     background thread: -[UILabel setText:]             |
|     â”‚     PID: 12345, TID: 67890                             |
|     â”‚                                                        |
|     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” |
|     â”‚  â”‚ UIKit methods must be called from main thread    â”‚ |
|     â”‚  â”‚                                                  â”‚ |
|     â”‚  â”‚ Fix: Wrap in DispatchQueue.main.async { }       â”‚ |
|     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ |
|  90 â”‚     }                                                  |
|  91 â”‚   }                                                    |
|                                                              |
+-------------------------------------------------------------+
```

### Types of Runtime Issues:
```
+-------------------------------------------------------------+
|  Runtime Issue Categories                                    |
+-------------------------------------------------------------+
|                                                              |
|  ğŸŸ£ MAIN THREAD CHECKER                                      |
|  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  |
|  Detects UIKit/AppKit APIs called from background threads    |
|                                                              |
|  Example:                                                    |
|  DispatchQueue.global().async {                              |
|    self.tableView.reloadData()  // ğŸŸ£ Violation!            |
|  }                                                           |
|                                                              |
|  ğŸŸ£ AUTO LAYOUT                                               |
|  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  |
|  Constraint conflicts that can't be satisfied                |
|                                                              |
|  Example:                                                    |
|  "Unable to simultaneously satisfy constraints..."           |
|  - View.width = 100                                          |
|  - View.width = 200  // ğŸŸ£ Conflict!                         |
|                                                              |
|  ğŸŸ£ MEMORY SANITIZER (ASan/UBSan)                            |
|  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  |
|  Memory access violations and undefined behavior             |
|                                                              |
|  Example:                                                    |
|  let ptr = UnsafeMutablePointer<Int>.allocate(capacity: 1)  |
|  ptr.deallocate()                                            |
|  ptr.pointee = 42  // ğŸŸ£ Use after free!                     |
|                                                              |
|  ğŸŸ£ THREAD SANITIZER (TSan)                                  |
|  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  |
|  Data race conditions between threads                        |
|                                                              |
|  Example:                                                    |
|  var count = 0                                               |
|  Thread 1: count += 1  // ğŸŸ£ Data race!                      |
|  Thread 2: count += 1  // ğŸŸ£ Data race!                      |
|                                                              |
+-------------------------------------------------------------+
```

### Issue Navigator Views:
```
+-------------------------------------------------------------+
|  Viewing Runtime Issues                                      |
+-------------------------------------------------------------+
|                                                              |
|  Access Issue Navigator: âŒ˜5                                  |
|                                                              |
|  Filter options at bottom:                                   |
|  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”|
|  â”‚  [All] [Errors] [Warnings] [Analyzers] [Runtime]        â”‚|
|  â”‚                                         ^^^^^^^^        â”‚|
|  â”‚                                    Filter to runtime onlyâ”‚|
|  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜|
|                                                              |
|  Click issue to:                                             |
|  â€¢ Jump to source line                                       |
|  â€¢ See backtrace (if available)                              |
|  â€¢ View related issues                                       |
|                                                              |
|  Right-click for:                                            |
|  â€¢ Reveal in Project Navigator                               |
|  â€¢ Copy issue description                                    |
|  â€¢ Show issue details                                        |
|                                                              |
+-------------------------------------------------------------+
```

## Our Configuration

**Set to**: `true` â€” Show runtime issues for proactive bug detection.

### Why Show Runtime Issues?

1. **Early detection** â€” Catch bugs during development
2. **Thread safety** â€” Identify main thread violations
3. **Memory safety** â€” Detect memory issues before crashes
4. **Layout issues** â€” Find constraint conflicts
5. **Code quality** â€” Fix issues before users encounter them

### Why Hide Runtime Issues?

- Working with known issues temporarily
- Debugging specific problem (reducing noise)
- Third-party library generating many warnings
- Performance testing (minimize overhead)

## Code Examples

```bash
# Read current value
defaults read com.apple.dt.Xcode IDEShowRuntimeIssues

# Show runtime issues (recommended)
defaults write com.apple.dt.Xcode IDEShowRuntimeIssues -bool true

# Hide runtime issues
defaults write com.apple.dt.Xcode IDEShowRuntimeIssues -bool false

# Delete (reset to default)
defaults delete com.apple.dt.Xcode IDEShowRuntimeIssues
```

## UI Location

**Xcode** â†’ **Settings** (âŒ˜,) â†’ **General**

```
+-------------------------------------------------------------+
|  Xcode Settings > General                                    |
+-------------------------------------------------------------+
|                                                              |
|  Issues                                                      |
|  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  |
|                                                              |
|  [*] Show live issues                                        |
|                                                              |
|  [*] Show runtime issues                                     |
|      ^-- This setting                                        |
|                                                              |
|  Continue building after errors:                             |
|  [*] Enable                                                  |
|                                                              |
|  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  |
|                                                              |
|  Note: Runtime issues only appear while app is running       |
|  in debug mode with appropriate sanitizers enabled          |
|                                                              |
+-------------------------------------------------------------+
```

## Enabling Sanitizers

To detect more runtime issues, enable sanitizers in your scheme:

```
+-------------------------------------------------------------+
|  Scheme Editor - Diagnostics Tab                             |
+-------------------------------------------------------------+
|                                                              |
|  Product â†’ Scheme â†’ Edit Scheme... (âŒ˜<)                      |
|  Select "Run" â†’ "Diagnostics" tab                            |
|                                                              |
|  Runtime Sanitization:                                       |
|  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  |
|                                                              |
|  [ ] Address Sanitizer                                       |
|      Detect memory corruption, buffer overflows              |
|                                                              |
|  [ ] Thread Sanitizer                                        |
|      Detect data races between threads                       |
|                                                              |
|  [*] Undefined Behavior Sanitizer                            |
|      Detect undefined behavior (signed overflow, etc.)       |
|                                                              |
|  Runtime API Checking:                                       |
|  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  |
|                                                              |
|  [*] Main Thread Checker                                     |
|      Detect UIKit calls from background threads              |
|                                                              |
|  Memory Management:                                          |
|  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  |
|                                                              |
|  [*] Zombie Objects                                          |
|      Detect messages to deallocated objects                  |
|                                                              |
|  [*] Malloc Stack Logging                                    |
|      Track memory allocations (for Instruments)              |
|                                                              |
+-------------------------------------------------------------+
```

## Related Settings

```bash
# Show runtime issues (this setting)
defaults write com.apple.dt.Xcode IDEShowRuntimeIssues -bool true

# Show live issues (real-time error checking)
defaults write com.apple.dt.Xcode IDEShowLiveIssues -bool true

# Continue building after errors
defaults write com.apple.dt.Xcode IDEBuildingContinueBuildingAfterErrors -bool true

# Show build duration
defaults write com.apple.dt.Xcode ShowBuildOperationDuration -bool true
```

## Common Runtime Issues and Fixes

```
+-------------------------------------------------------------+
|  Fixing Common Runtime Issues                                |
+-------------------------------------------------------------+
|                                                              |
|  Main Thread Checker Violation:                              |
|  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  |
|  Before:                                                     |
|    DispatchQueue.global().async {                            |
|      self.label.text = "Done"  // ğŸŸ£ Error                  |
|    }                                                         |
|                                                              |
|  After:                                                      |
|    DispatchQueue.global().async {                            |
|      DispatchQueue.main.async {                              |
|        self.label.text = "Done"  // âœ“ Fixed                 |
|      }                                                       |
|    }                                                         |
|                                                              |
|  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  |
|                                                              |
|  Auto Layout Conflict:                                       |
|  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  |
|  Before:                                                     |
|    view.translatesAutoresizingMaskIntoConstraints = true     |
|    NSLayoutConstraint.activate([...])  // ğŸŸ£ Conflict        |
|                                                              |
|  After:                                                      |
|    view.translatesAutoresizingMaskIntoConstraints = false    |
|    NSLayoutConstraint.activate([...])  // âœ“ Fixed           |
|                                                              |
+-------------------------------------------------------------+
```

## Troubleshooting

| Issue | Solution |
|-------|----------|
| Runtime issues not showing | Enable in Settings â†’ General |
| Too many layout warnings | Fix constraints or use constraint priorities |
| Main thread false positive | Check if third-party library issue |
| Sanitizer slowing app | Disable during performance testing |
| Issues disappear on restart | Runtime issues clear each session |

## Compatibility

- **Xcode**: 8.0+ (Main Thread Checker)
- **Xcode**: 7.0+ (Address Sanitizer)
- **Note**: Some sanitizers require specific architectures
- **Note**: Sanitizers impact performance (debug only)
- **Note**: Runtime issues require running app in Xcode

## Source File

**File**: [`defaults/applications/xcode.sh`](../../../../../defaults/applications/xcode.sh)

```bash
run_defaults "com.apple.dt.Xcode" "IDEShowRuntimeIssues" "-bool" "true"
```

## References

- [Apple Developer: Diagnosing memory, thread, and crash issues](https://developer.apple.com/documentation/xcode/diagnosing-memory-thread-and-crash-issues-early)
- [Apple Developer: Main Thread Checker](https://developer.apple.com/documentation/xcode/diagnosing-memory-thread-and-crash-issues-early)
- [WWDC 2017: Finding Bugs Using Xcode Runtime Tools](https://developer.apple.com/videos/play/wwdc2017/406/)
