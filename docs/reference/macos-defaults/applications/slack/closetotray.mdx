# Slack Close to Menu Bar

Keep Slack running when window is closed.

## Overview

| Property | Value |
|----------|-------|
| **Domain** | `com.tinyspeck.slackmacgap` |
| **Key** | `SlackCloseToTray` |
| **Type** | Boolean |
| **Default Value** | `true` |
| **Our Setting** | `true` |

## Description

Controls whether closing the Slack window minimizes it to the menu bar instead of quitting the application. This keeps Slack running in the background for notifications while freeing up Dock space.

## Values

| Value | Behavior |
|-------|----------|
| `true` | **Close to tray** (default) â€” App stays running |
| `false` | **Quit on close** â€” âŒ˜W quits Slack |

## Behavior Comparison

### Close to Tray (true):
```
Click âœ• button â†’ Window closes â†’ Slack icon in menu bar
                                 â”‚
                                 â”œâ”€â”€ Still receives messages âœ“
                                 â”œâ”€â”€ Shows notifications âœ“
                                 â””â”€â”€ Click to reopen window
```

### Quit on Close (false):
```
Click âœ• button â†’ Slack quits â†’ No background process
                               â”‚
                               â”œâ”€â”€ No notifications âœ—
                               â”œâ”€â”€ No messages until reopen âœ—
                               â””â”€â”€ Disconnect from workspace
```

## Our Configuration

**Set to**: `true` â€” Close to menu bar.

### Why Close to Tray?

1. **Stay connected** â€” Receive messages
2. **Notifications** â€” Don't miss mentions
3. **Clean desktop** â€” No Dock clutter
4. **Quick access** â€” Click menu icon to open
5. **Expected behavior** â€” Like mobile apps

### Why Quit on Close?

- Save memory/resources
- Complete disconnect when not working
- Battery saving
- No background processes

## Code Examples

```bash
# Read current value
defaults read com.tinyspeck.slackmacgap SlackCloseToTray

# Close to menu bar (default)
defaults write com.tinyspeck.slackmacgap SlackCloseToTray -bool true

# Quit when window closes
defaults write com.tinyspeck.slackmacgap SlackCloseToTray -bool false

# Delete (reset to default)
defaults delete com.tinyspeck.slackmacgap SlackCloseToTray
```

## UI Location

Not directly configurable in Slack preferences.

## Menu Bar Icon

When minimized to tray:
```
Menu bar: [ğŸ””] [ğŸ“¶] [ğŸ”‹] [ğŸ’¬ Slack] [â°]
                        â†‘
                Click to open window
```

Shows badge for unread messages.

## Keyboard Shortcuts

| Shortcut | Action |
|----------|--------|
| âŒ˜W | Close window (stays in tray) |
| âŒ˜Q | Actually quit Slack |
| âŒ˜M | Minimize to Dock |

To truly quit Slack, use âŒ˜Q.

## Memory Usage

Slack running in background:
- ~300-500 MB RAM typical
- Varies by workspaces
- Multiple workspaces = more memory

Consider disabling if RAM is limited.

## Related Settings

```bash
# Auto-launch on login
defaults write com.tinyspeck.slackmacgap SlackAutoLaunch -bool true

# Disable dock bounce
defaults write com.tinyspeck.slackmacgap SlackBounceEnabled -bool false
```

## Notification Implications

With close to tray:
- Desktop notifications work âœ“
- Badge count updates âœ“
- Sound alerts (if enabled) âœ“

Without:
- No notifications when Slack quit
- Must reopen app to check messages

## Focus Mode Integration

Even with close to tray:
- Focus modes can silence notifications
- Slack still receives messages quietly
- Check later at your convenience

## Troubleshooting

| Issue | Solution |
|-------|----------|
| Slack fully quits on close | Check this setting |
| No menu bar icon | Look for hidden icons |
| Too much memory | Disable this, quit when done |

## Compatibility

- **Slack**: Mac desktop app
- **macOS**: 10.13+
- **Note**: Restart Slack for changes

## Source File

**File**: [`defaults/applications/slack.sh`](../../../../defaults/applications/slack.sh)

```bash
run_defaults "com.tinyspeck.slackmacgap" "SlackCloseToTray" "-bool" "true"
```

## References

- [Slack Help: Manage preferences](https://slack.com/help/articles/201374536-Manage-your-preferences)
