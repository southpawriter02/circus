# Mail Conversation View

Group related email messages into threads.

## Overview

| Property | Value |
|----------|-------|
| **Domain** | `com.apple.mail` |
| **Keys** | `ConversationViewEnabled`, `ConversationViewAllMailboxes`, `ConversationViewSortDescending` |
| **Type** | Boolean |
| **Default Value** | `true`, `false`, `true` |
| **Our Setting** | `true`, `true`, `true` |

## Description

Conversation View groups related email messages into threads, making it easier to follow email discussions and keep your inbox organized.

## The Three Conversation Settings

| Key | Purpose | Our Setting |
|-----|---------|-------------|
| `ConversationViewEnabled` | Enable thread grouping | `true` |
| `ConversationViewAllMailboxes` | Include messages from all folders | `true` |
| `ConversationViewSortDescending` | Newest messages at top | `true` |

### ConversationViewEnabled

Groups replies, forwards, and related messages together.

```bash
defaults write com.apple.mail ConversationViewEnabled -bool true
```

### ConversationViewAllMailboxes

Includes related messages even if they're in Sent, Archive, or other mailboxes.

```bash
defaults write com.apple.mail ConversationViewAllMailboxes -bool true
```

**Example**: When viewing an received email, you'll also see your sent replies inline.

### ConversationViewSortDescending

Shows newest messages at the top of the conversation.

```bash
defaults write com.apple.mail ConversationViewSortDescending -bool true
```

## Our Configuration

All three set to `true` â€” Full conversation threading with newest first.

## Code Examples

```bash
# Read current values
defaults read com.apple.mail ConversationViewEnabled
defaults read com.apple.mail ConversationViewAllMailboxes
defaults read com.apple.mail ConversationViewSortDescending

# Complete conversation view setup
defaults write com.apple.mail ConversationViewEnabled -bool true
defaults write com.apple.mail ConversationViewAllMailboxes -bool true
defaults write com.apple.mail ConversationViewSortDescending -bool true

# Delete (reset to defaults)
defaults delete com.apple.mail ConversationViewEnabled
defaults delete com.apple.mail ConversationViewAllMailboxes
defaults delete com.apple.mail ConversationViewSortDescending

# Restart Mail to apply
killall Mail
```

## UI Location

**View** menu:
- **Organize by Conversation** (âŒƒâŒ˜O) â€” Enables/disables threading
- **Include Related Messages** â€” Shows messages from all mailboxes
- **Sort By** â†’ **Date (Descending)** â€” Newest first

Also in **Mail** â†’ **Settings** (âŒ˜,) â†’ **Viewing**

## Visual Example

### Without Conversation View

```
ðŸ“§ RE: Project Update - Alice
ðŸ“§ Quarterly Report - Bob  
ðŸ“§ RE: RE: Project Update - Carol
ðŸ“§ Project Update - You
ðŸ“§ RE: Project Update - Alice
```

### With Conversation View

```
ðŸ“§ Project Update (4 messages)
    â””â”€ Carol: RE: RE: Project Update
    â””â”€ Alice: RE: Project Update  
    â””â”€ Alice: RE: Project Update
    â””â”€ You: Project Update

ðŸ“§ Quarterly Report - Bob
```

## Related Settings

```bash
# Don't auto-mark all messages as read when opening conversation
defaults write com.apple.mail ConversationViewMarkAllAsRead -bool false
```

## Troubleshooting

| Issue | Solution |
|-------|----------|
| Messages not grouping | Enable via View â†’ Organize by Conversation |
| Sent messages not showing | Enable "Include Related Messages" |
| Thread order wrong | Check View â†’ Sort By â†’ Date setting |

## Compatibility

- **Mail.app**: macOS 10.7+
- **Works with**: All email account types

## Source File

**File**: [`defaults/applications/mail.sh`](../../../../defaults/applications/mail.sh)

```bash
run_defaults "com.apple.mail" "ConversationViewEnabled" "-bool" "true"
run_defaults "com.apple.mail" "ConversationViewAllMailboxes" "-bool" "true"
```

## References

- [Apple Support: Organize emails by conversation](https://support.apple.com/guide/mail/organize-emails-by-conversation-mlhlcc79f5d8/mac)

